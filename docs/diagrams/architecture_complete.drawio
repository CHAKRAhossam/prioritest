<mxfile host="app.diagrams.net" modified="2025-12-08T00:00:00.000Z" agent="draw.io" version="21.0.0" etag="architecture" type="device">
  <diagram name="Architecture Complete" id="architecture-complete">
    <mxGraphModel dx="2400" dy="1600" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="3200" pageHeight="2400" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        
        <!-- ========== TITRE ========== -->
        <mxCell id="title" value="Architecture Complète - ML Test Prioritization Platform" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=32;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="400" y="40" width="2400" height="60" as="geometry" />
        </mxCell>
        
        <!-- ========== SERVICES EXTERNES / SOURCES ========== -->
        <mxCell id="github" value="GitHub&#xa;API" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#181717;strokeColor=#000000;fontColor=#FFFFFF;fontSize=14;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="200" y="200" width="120" height="80" as="geometry" />
        </mxCell>
        
        <mxCell id="gitlab" value="GitLab&#xa;API" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FC6D26;strokeColor=#000000;fontColor=#FFFFFF;fontSize=14;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="200" y="320" width="120" height="80" as="geometry" />
        </mxCell>
        
        <mxCell id="jira" value="Jira&#xa;API" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#0052CC;strokeColor=#000000;fontColor=#FFFFFF;fontSize=14;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="200" y="440" width="120" height="80" as="geometry" />
        </mxCell>
        
        <!-- ========== SERVICE 1 - COLLECTE DEPOTS ========== -->
        <mxCell id="s1" value="S1 - Collecte Depots&#xa;&#xa;Technologies:&#xa;• JGit (Java)&#xa;• GitHub/GitLab API&#xa;• Jira API&#xa;• Kafka Producer&#xa;&#xa;Responsable: Haytam Ta" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E1F5FF;strokeColor=#01579B;strokeWidth=3;fontSize=12;fontStyle=1;align=left;verticalAlign=top;spacingLeft=10;spacingTop=5" vertex="1" parent="1">
          <mxGeometry x="400" y="200" width="240" height="180" as="geometry" />
        </mxCell>
        
        <!-- ========== SERVICE 2 - ANALYSE STATIQUE ========== -->
        <mxCell id="s2" value="S2 - Analyse Statique&#xa;&#xa;Technologies:&#xa;• JavaParser&#xa;• CK Metrics&#xa;• PMD (Smells)&#xa;• Feast Feature Store&#xa;&#xa;Responsable: Haytam Ta" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E1F5FF;strokeColor=#01579B;strokeWidth=3;fontSize=12;fontStyle=1;align=left;verticalAlign=top;spacingLeft=10;spacingTop=5" vertex="1" parent="1">
          <mxGeometry x="700" y="200" width="240" height="180" as="geometry" />
        </mxCell>
        
        <!-- ========== SERVICE 3 - HISTORIQUE TESTS ========== -->
        <mxCell id="s3" value="S3 - Historique Tests&#xa;&#xa;Technologies:&#xa;• JaCoCo Parser&#xa;• Surefire Parser&#xa;• PIT Parser&#xa;• TimescaleDB&#xa;• FastAPI&#xa;&#xa;Responsable: Oussama Boujdig" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF4E6;strokeColor=#E65100;strokeWidth=3;fontSize=12;fontStyle=1;align=left;verticalAlign=top;spacingLeft=10;spacingTop=5" vertex="1" parent="1">
          <mxGeometry x="1000" y="200" width="240" height="180" as="geometry" />
        </mxCell>
        
        <!-- ========== SERVICE 4 - PRETRAITEMENT FEATURES ========== -->
        <mxCell id="s4" value="S4 - Pretraitement Features&#xa;&#xa;Technologies:&#xa;• Pandas&#xa;• scikit-learn&#xa;• SMOTE&#xa;• DVC&#xa;• Feast&#xa;&#xa;Responsable: Hicham Kaou" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F3E5F5;strokeColor=#4A148C;strokeWidth=3;fontSize=12;fontStyle=1;align=left;verticalAlign=top;spacingLeft=10;spacingTop=5" vertex="1" parent="1">
          <mxGeometry x="1300" y="200" width="240" height="180" as="geometry" />
        </mxCell>
        
        <!-- ========== SERVICE 5 - ML SERVICE ========== -->
        <mxCell id="s5" value="S5 - ML Service&#xa;&#xa;Technologies:&#xa;• XGBoost&#xa;• LightGBM&#xa;• SHAP&#xa;• MLflow&#xa;• FastAPI&#xa;• MinIO&#xa;&#xa;Responsable: Hicham Kaou" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F3E5F5;strokeColor=#4A148C;strokeWidth=3;fontSize=12;fontStyle=1;align=left;verticalAlign=top;spacingLeft=10;spacingTop=5" vertex="1" parent="1">
          <mxGeometry x="1600" y="200" width="240" height="180" as="geometry" />
        </mxCell>
        
        <!-- ========== SERVICE 6 - MOTEUR PRIORISATION ========== -->
        <mxCell id="s6" value="S6 - Moteur Priorisation&#xa;&#xa;Technologies:&#xa;• FastAPI&#xa;• OR-Tools&#xa;• PostgreSQL&#xa;• Pydantic&#xa;&#xa;Responsable: Hossam Chakra" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8F5E9;strokeColor=#1B5E20;strokeWidth=3;fontSize=12;fontStyle=1;align=left;verticalAlign=top;spacingLeft=10;spacingTop=5" vertex="1" parent="1">
          <mxGeometry x="1900" y="200" width="240" height="180" as="geometry" />
        </mxCell>
        
        <!-- ========== SERVICE 7 - TEST SCAFFOLDER ========== -->
        <mxCell id="s7" value="S7 - Test Scaffolder&#xa;&#xa;Technologies:&#xa;• FastAPI&#xa;• tree-sitter-java&#xa;• Jinja2&#xa;• GitPython&#xa;• Mockito&#xa;&#xa;Responsable: Hossam Chakra" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8F5E9;strokeColor=#1B5E20;strokeWidth=3;fontSize=12;fontStyle=1;align=left;verticalAlign=top;spacingLeft=10;spacingTop=5" vertex="1" parent="1">
          <mxGeometry x="2200" y="200" width="240" height="180" as="geometry" />
        </mxCell>
        
        <!-- ========== SERVICE 8 - DASHBOARD QUALITE ========== -->
        <mxCell id="s8" value="S8 - Dashboard Qualité&#xa;&#xa;Technologies:&#xa;• React.js + Vite&#xa;• Plotly.js&#xa;• FastAPI Backend&#xa;• WebSockets&#xa;&#xa;Responsable: Ilyas Michich" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF9C4;strokeColor=#F57F17;strokeWidth=3;fontSize=12;fontStyle=1;align=left;verticalAlign=top;spacingLeft=10;spacingTop=5" vertex="1" parent="1">
          <mxGeometry x="2500" y="200" width="240" height="180" as="geometry" />
        </mxCell>
        
        <!-- ========== SERVICE 9 - INTEGRATIONS ========== -->
        <mxCell id="s9" value="S9 - Integrations &amp; Ops&#xa;&#xa;Technologies:&#xa;• GitHub/GitLab API&#xa;• Docker/Kubernetes&#xa;• OpenTelemetry&#xa;• Keycloak (SSO)&#xa;• CI/CD Pipelines&#xa;&#xa;Responsable: Oussama Boujdig" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF4E6;strokeColor=#E65100;strokeWidth=3;fontSize=12;fontStyle=1;align=left;verticalAlign=top;spacingLeft=10;spacingTop=5" vertex="1" parent="1">
          <mxGeometry x="2800" y="200" width="240" height="180" as="geometry" />
        </mxCell>
        
        <!-- ========== KAFKA ========== -->
        <mxCell id="kafka" value="Apache Kafka&#xa;&#xa;Message Broker&#xa;Event Streaming" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#000000;strokeColor=#000000;fontColor=#FFFFFF;fontSize=14;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="400" y="500" width="200" height="100" as="geometry" />
        </mxCell>
        
        <!-- ========== POSTGRESQL ========== -->
        <mxCell id="postgres" value="PostgreSQL&#xa;&#xa;Métadonnées&#xa;Politiques&#xa;Plans" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#336791;strokeColor=#000000;fontColor=#FFFFFF;fontSize=14;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="700" y="500" width="160" height="100" as="geometry" />
        </mxCell>
        
        <!-- ========== TIMESCALEDB ========== -->
        <mxCell id="timescale" value="TimescaleDB&#xa;&#xa;Séries Temporelles&#xa;Historique Tests" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#336791;strokeColor=#000000;fontColor=#FFFFFF;fontSize=14;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1000" y="500" width="160" height="100" as="geometry" />
        </mxCell>
        
        <!-- ========== MINIO ========== -->
        <mxCell id="minio" value="MinIO&#xa;&#xa;Object Storage&#xa;Artefacts&#xa;Modèles ML" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFC107;strokeColor=#000000;fontColor=#000000;fontSize=14;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1300" y="500" width="160" height="100" as="geometry" />
        </mxCell>
        
        <!-- ========== FEAST ========== -->
        <mxCell id="feast" value="Feast&#xa;&#xa;Feature Store&#xa;Versioning" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#4CAF50;strokeColor=#000000;fontColor=#FFFFFF;fontSize=14;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1600" y="500" width="160" height="100" as="geometry" />
        </mxCell>
        
        <!-- ========== MLFLOW ========== -->
        <mxCell id="mlflow" value="MLflow&#xa;&#xa;Experiments&#xa;Model Registry&#xa;Tracking" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#0194E2;strokeColor=#000000;fontColor=#FFFFFF;fontSize=14;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1900" y="500" width="160" height="100" as="geometry" />
        </mxCell>
        
        <!-- ========== KEYCLOAK ========== -->
        <mxCell id="keycloak" value="Keycloak&#xa;&#xa;SSO/Auth&#xa;Identity Provider" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#7B68EE;strokeColor=#000000;fontColor=#FFFFFF;fontSize=14;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="2200" y="500" width="160" height="100" as="geometry" />
        </mxCell>
        
        <!-- ========== GRAFANA ========== -->
        <mxCell id="grafana" value="Grafana&#xa;&#xa;Monitoring&#xa;Visualization" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F46800;strokeColor=#000000;fontColor=#FFFFFF;fontSize=14;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="2500" y="500" width="160" height="100" as="geometry" />
        </mxCell>
        
        <!-- ========== FLUX DE DONNEES ========== -->
        
        <!-- GitHub/GitLab/Jira -> S1 -->
        <mxCell id="flow1" value="" style="endArrow=classic;html=1;rounded=0;strokeWidth=2;strokeColor=#1976D2;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="github" target="s1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="400" as="sourcePoint" />
            <mxPoint x="450" y="350" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="flow2" value="" style="endArrow=classic;html=1;rounded=0;strokeWidth=2;strokeColor=#1976D2;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="gitlab" target="s1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="400" as="sourcePoint" />
            <mxPoint x="450" y="350" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="flow3" value="" style="endArrow=classic;html=1;rounded=0;strokeWidth=2;strokeColor=#1976D2;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="jira" target="s1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="400" as="sourcePoint" />
            <mxPoint x="450" y="350" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- S1 -> Kafka -->
        <mxCell id="flow4" value="Events" style="endArrow=classic;html=1;rounded=0;strokeWidth=2;strokeColor=#1976D2;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="s1" target="kafka">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="400" as="sourcePoint" />
            <mxPoint x="450" y="350" as="targetPoint" />
            <mxPoint x="500" y="500" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- Kafka -> S2 -->
        <mxCell id="flow5" value="Code Events" style="endArrow=classic;html=1;rounded=0;strokeWidth=2;strokeColor=#1976D2;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="kafka" target="s2">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="400" as="sourcePoint" />
            <mxPoint x="450" y="350" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- S2 -> Feast -->
        <mxCell id="flow6" value="Features" style="endArrow=classic;html=1;rounded=0;strokeWidth=2;strokeColor=#4CAF50;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="s2" target="feast">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="400" as="sourcePoint" />
            <mxPoint x="450" y="350" as="targetPoint" />
            <mxPoint x="820" y="500" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- Kafka -> S3 -->
        <mxCell id="flow7" value="Test Reports" style="endArrow=classic;html=1;rounded=0;strokeWidth=2;strokeColor=#1976D2;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="kafka" target="s3">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="400" as="sourcePoint" />
            <mxPoint x="450" y="350" as="targetPoint" />
            <mxPoint x="1000" y="290" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- S3 -> TimescaleDB -->
        <mxCell id="flow8" value="Time Series" style="endArrow=classic;html=1;rounded=0;strokeWidth=2;strokeColor=#336791;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="s3" target="timescale">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="400" as="sourcePoint" />
            <mxPoint x="450" y="350" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- Feast -> S4 -->
        <mxCell id="flow9" value="Raw Features" style="endArrow=classic;html=1;rounded=0;strokeWidth=2;strokeColor=#4CAF50;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="feast" target="s4">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="400" as="sourcePoint" />
            <mxPoint x="450" y="350" as="targetPoint" />
            <mxPoint x="1680" y="200" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- S4 -> Feast -->
        <mxCell id="flow10" value="Processed Features" style="endArrow=classic;html=1;rounded=0;strokeWidth=2;strokeColor=#4CAF50;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="s4" target="feast">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="400" as="sourcePoint" />
            <mxPoint x="450" y="350" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- Feast -> S5 -->
        <mxCell id="flow11" value="Training Features" style="endArrow=classic;html=1;rounded=0;strokeWidth=2;strokeColor=#4CAF50;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="feast" target="s5">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="400" as="sourcePoint" />
            <mxPoint x="450" y="350" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- S5 -> MLflow -->
        <mxCell id="flow12" value="Models" style="endArrow=classic;html=1;rounded=0;strokeWidth=2;strokeColor=#0194E2;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="s5" target="mlflow">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="400" as="sourcePoint" />
            <mxPoint x="450" y="350" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- S5 -> MinIO -->
        <mxCell id="flow13" value="Model Files" style="endArrow=classic;html=1;rounded=0;strokeWidth=2;strokeColor=#FFC107;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="s5" target="minio">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="400" as="sourcePoint" />
            <mxPoint x="450" y="350" as="targetPoint" />
            <mxPoint x="1720" y="500" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- S5 -> S6 -->
        <mxCell id="flow14" value="Predictions&#xa;(risk_score)" style="endArrow=classic;html=1;rounded=0;strokeWidth=3;strokeColor=#1B5E20;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="s5" target="s6">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="400" as="sourcePoint" />
            <mxPoint x="450" y="350" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- S6 -> PostgreSQL -->
        <mxCell id="flow15" value="Policies&#xa;Plans" style="endArrow=classic;html=1;rounded=0;strokeWidth=2;strokeColor=#336791;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="s6" target="postgres">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="400" as="sourcePoint" />
            <mxPoint x="450" y="350" as="targetPoint" />
            <mxPoint x="2020" y="500" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- S6 -> S7 -->
        <mxCell id="flow16" value="Prioritized&#xa;Classes" style="endArrow=classic;html=1;rounded=0;strokeWidth=3;strokeColor=#1B5E20;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="s6" target="s7">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="400" as="sourcePoint" />
            <mxPoint x="450" y="350" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- S6 -> S8 -->
        <mxCell id="flow17" value="Prioritization&#xa;Results" style="endArrow=classic;html=1;rounded=0;strokeWidth=3;strokeColor=#F57F17;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="s6" target="s8">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="400" as="sourcePoint" />
            <mxPoint x="450" y="350" as="targetPoint" />
            <mxPoint x="2500" y="290" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- S7 -> S8 -->
        <mxCell id="flow18" value="Generated&#xa;Tests" style="endArrow=classic;html=1;rounded=0;strokeWidth=3;strokeColor=#F57F17;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="s7" target="s8">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="400" as="sourcePoint" />
            <mxPoint x="450" y="350" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- S8 -> Grafana -->
        <mxCell id="flow19" value="Metrics" style="endArrow=classic;html=1;rounded=0;strokeWidth=2;strokeColor=#F46800;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="s8" target="grafana">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="400" as="sourcePoint" />
            <mxPoint x="450" y="350" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- S9 -> GitHub/GitLab -->
        <mxCell id="flow20" value="PR Comments" style="endArrow=classic;html=1;rounded=0;strokeWidth=2;strokeColor=#E65100;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="s9" target="github">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="400" as="sourcePoint" />
            <mxPoint x="450" y="350" as="targetPoint" />
            <mxPoint x="2800" y="240" as="sourcePoint" />
            <mxPoint x="200" y="240" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="flow21" value="MR Comments" style="endArrow=classic;html=1;rounded=0;strokeWidth=2;strokeColor=#E65100;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="s9" target="gitlab">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="400" as="sourcePoint" />
            <mxPoint x="450" y="350" as="targetPoint" />
            <mxPoint x="2800" y="240" as="sourcePoint" />
            <mxPoint x="200" y="360" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- S9 -> Keycloak -->
        <mxCell id="flow22" value="Auth" style="endArrow=classic;html=1;rounded=0;strokeWidth=2;strokeColor=#7B68EE;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="s9" target="keycloak">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="400" as="sourcePoint" />
            <mxPoint x="450" y="350" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- S1 -> MinIO -->
        <mxCell id="flow23" value="Artefacts" style="endArrow=classic;html=1;rounded=0;strokeWidth=2;strokeColor=#FFC107;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="s1" target="minio">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="400" as="sourcePoint" />
            <mxPoint x="450" y="350" as="targetPoint" />
            <mxPoint x="520" y="500" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- S1 -> PostgreSQL -->
        <mxCell id="flow24" value="Metadata" style="endArrow=classic;html=1;rounded=0;strokeWidth=2;strokeColor=#336791;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="s1" target="postgres">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="400" as="sourcePoint" />
            <mxPoint x="450" y="350" as="targetPoint" />
            <mxPoint x="520" y="500" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- ========== LEGENDE ========== -->
        <mxCell id="legend-title" value="Légende" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="200" y="700" width="200" height="30" as="geometry" />
        </mxCell>
        
        <mxCell id="legend1" value="Services Collecte/Analyse" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E1F5FF;strokeColor=#01579B;strokeWidth=2;fontSize=12" vertex="1" parent="1">
          <mxGeometry x="200" y="740" width="200" height="30" as="geometry" />
        </mxCell>
        
        <mxCell id="legend2" value="Services Tests/Historique" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF4E6;strokeColor=#E65100;strokeWidth=2;fontSize=12" vertex="1" parent="1">
          <mxGeometry x="200" y="780" width="200" height="30" as="geometry" />
        </mxCell>
        
        <mxCell id="legend3" value="Services ML/Features" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F3E5F5;strokeColor=#4A148C;strokeWidth=2;fontSize=12" vertex="1" parent="1">
          <mxGeometry x="200" y="820" width="200" height="30" as="geometry" />
        </mxCell>
        
        <mxCell id="legend4" value="Services Priorisation/Scaffolding" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8F5E9;strokeColor=#1B5E20;strokeWidth=2;fontSize=12" vertex="1" parent="1">
          <mxGeometry x="200" y="860" width="200" height="30" as="geometry" />
        </mxCell>
        
        <mxCell id="legend5" value="Service Dashboard" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF9C4;strokeColor=#F57F17;strokeWidth=2;fontSize=12" vertex="1" parent="1">
          <mxGeometry x="200" y="900" width="200" height="30" as="geometry" />
        </mxCell>
        
        <mxCell id="legend6" value="Bases de Données" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#336791;strokeColor=#000000;fontColor=#FFFFFF;fontSize=12" vertex="1" parent="1">
          <mxGeometry x="200" y="940" width="160" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="legend7" value="Services Infrastructure" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#000000;strokeColor=#000000;fontColor=#FFFFFF;fontSize=12" vertex="1" parent="1">
          <mxGeometry x="200" y="1000" width="200" height="30" as="geometry" />
        </mxCell>
        
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>




